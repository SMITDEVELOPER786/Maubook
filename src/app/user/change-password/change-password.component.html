<div class="change-password-form">
    <h3>Change Password</h3>
    <form [formGroup]="changePasswordForm" (ngSubmit)="onSubmit()">
      <div class="form-grid">
        <div class="form-group">
          <label>Current Password *</label>
          <input
            type="password"
            formControlName="currentPassword"
            class="form-control"
            placeholder="Enter current password"
          />
          <div
            *ngIf="changePasswordForm.get('currentPassword')?.touched && changePasswordForm.get('currentPassword')?.invalid"
            class="error"
          >
            Current password is required.
          </div>
        </div>
  
        <div class="form-group">
          <label>New Password *</label>
          <input
            type="password"
            formControlName="newPassword"
            class="form-control"
            placeholder="Enter new password"
          />
          <div
            *ngIf="changePasswordForm.get('newPassword')?.touched && changePasswordForm.get('newPassword')?.invalid"
            class="error"
          >
            New password must be at least 6 characters.
          </div>
        </div>
  
        <div class="form-group">
          <label>Confirm New Password *</label>
          <input
            type="password"
            formControlName="confirmNewPassword"
            class="form-control"
            placeholder="Confirm new password"
          />
          <div
            *ngIf="changePasswordForm.get('confirmNewPassword')?.touched && changePasswordForm.get('confirmNewPassword')?.invalid"
            class="error"
          >
            Confirm password is required.
          </div>
          <div
            *ngIf="changePasswordForm.errors?.['passwordMismatch'] && changePasswordForm.get('confirmNewPassword')?.touched"
            class="error"
          >
            Passwords must match.
          </div>
        </div>
      </div>
  
      <div class="form-actions">
        <button
          type="submit"
          class="btn btn-primary"
          [disabled]="changePasswordForm.invalid || isSubmitting"
        >
          {{ isSubmitting ? 'Updating...' : 'Change Password' }}
        </button>
      </div>
  
      <div class="messages">
        <div *ngIf="successMessage" class="success">{{ successMessage }}</div>
        <div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>
      </div>
    </form>
  </div>