<div class="row">
  <div class="col-10">
    <h3 class="upload-title">Change App Icon by Uploading an Image</h3>
  </div>
  <div class="col-1 d-flex align-items-center m-1">
    <button
      *ngIf="imagePreview"
      mat-mini-fab
      class="ms-2"
      color="primary"
      type="button"
      (click)="uploadSelectedFile()"
      [disabled]="isLoading"
    >
      <mat-progress-spinner
        *ngIf="isLoading"
        mode="indeterminate"
        diameter="20"
        color="accent"
        strokeWidth="3"
      ></mat-progress-spinner>

      <mat-icon *ngIf="!isLoading">upload</mat-icon>
    </button>
    <button
      *ngIf="imagePreview"
      mat-mini-fab
      color="warn"
      type="button"
      class="ms-2"
      [disabled]="isLoading"
      (click)="clearImage($event)"
    >
      <mat-icon>clear</mat-icon>
    </button>
  </div>
</div>
<div class="p-2"></div>
<div
  class="upload-container"
  [class.dragging]="isDragging"
  (dragover)="onDragOver($event)"
  (dragleave)="onDragLeave($event)"
  (drop)="onDrop($event)"
  (click)="fileInput.click()"
>
  <ng-container *ngIf="!imagePreview">
    <p>
      {{
        isDragging
          ? "Release to upload"
          : "Drag & Drop an image here, or click to select"
      }}
    </p>
  </ng-container>

  <ng-container *ngIf="imagePreview">
    <img [src]="imagePreview" alt="Preview" class="preview-image" />
  </ng-container>

  <input
    #fileInput
    type="file"
    accept="image/*"
    (change)="onFileSelected($event)"
    hidden
  />
</div>
